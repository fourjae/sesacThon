<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>AI ì‹¤ì‹œê°„ ë¯¼ì› ìƒë‹´</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
  <style>
    :root {
      --bg-light-blue: #e5f2ff;
      --bg-blue-soft: #c8e1ff;
      --accent-blue: #2b7cff;
      --accent-blue-soft: #a7c8ff;
      --text-main: #0f172a;
      --text-sub: #64748b;
      --border-light: #e2e8f0;
      --bubble-user: #eff6ff;
      --bubble-bot: #ffffff;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Apple SD Gothic Neo", system-ui, sans-serif;
      background: linear-gradient(180deg, var(--bg-light-blue), #ffffff);
      display: flex;
      justify-content: center;
      align-items: stretch;
      min-height: 100vh;
      color: var(--text-main);
    }

    .app-shell {
      width: 100%;
      max-width: 480px;
      height: 100vh;
      max-height: 860px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.96);
      box-shadow: 0 16px 40px rgba(15, 23, 42, 0.15);
      border-radius: 28px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      position: relative;
    }

    /* í—¤ë” */
    .app-header {
      padding: 10px 14px 10px;
      border-bottom: 1px solid var(--border-light);
      background: linear-gradient(135deg, var(--bg-blue-soft), #ffffff);
      display: flex;
      align-items: center;
      gap: 10px;
      flex-shrink: 0;
    }

    .header-menu-btn {
      border: none;
      background: rgba(255, 255, 255, 0.8);
      border-radius: 999px;
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 17px;
      box-shadow: 0 2px 6px rgba(15, 23, 42, 0.15);
      margin-right: 2px;
    }

    .header-menu-btn span {
      transform: translateY(-1px);
    }

    .app-header-icon {
      width: 32px;
      height: 32px;
      border-radius: 12px;
      background: #ffffffaa;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
    }

    .app-header-title {
      display: flex;
      flex-direction: column;
      gap: 2px;
      min-width: 0;
    }

    .app-header-title-main {
      font-size: 15px;
      font-weight: 700;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
    }

    .app-header-title-sub {
      font-size: 12px;
      color: var(--text-sub);
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
    }

    /* ë©”ì¸ ë ˆì´ì•„ì›ƒ */
    .app-main {
      flex: 1;
      display: flex;
      min-height: 0;
      border-top: 1px solid rgba(148, 163, 184, 0.2);
      background: linear-gradient(180deg, #f5f9ff, #ffffff);
      position: relative;
    }

    /* ì™¼ìª½ Chats(ìµœê·¼ ë¯¼ì› ëª©ë¡) */
    .sidebar {
      max-width: 180px;
      min-width: 130px;
      border-right: 1px solid var(--border-light);
      display: flex;
      flex-direction: column;
      background: #f2f7ff;
      z-index: 20;
      transition: transform 0.22s ease, box-shadow 0.22s ease, opacity 0.18s ease, width 0.22s ease;
      flex-shrink: 0;      /* ì¶”ê°€ */
      overflow: hidden;    /* ì¶”ê°€: width ì¤„ì–´ë“¤ ë•Œ ì•ˆì˜ ë‚´ìš© ì•ˆ íŠ€ì–´ë‚˜ì˜¤ê²Œ */
      width: 34%;
    }

    .sidebar-header {
      padding: 8px 10px;
      border-bottom: 1px solid rgba(148, 163, 184, 0.3);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 4px;
    }

    .sidebar-title {
      font-size: 12px;
      font-weight: 600;
      color: #1d4ed8;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .sidebar-title span.icon {
      font-size: 14px;
    }

    .sidebar-new {
      border: none;
      border-radius: 999px;
      padding: 4px 8px;
      font-size: 11px;
      background: #e0edff;
      color: #1d4ed8;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .sidebar-list {
      flex: 1;
      overflow-y: auto;
      padding: 4px 4px 8px;
    }

    .chat-item {
      border-radius: 14px;
      padding: 7px 7px;
      margin-bottom: 4px;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      gap: 2px;
      border: 1px solid transparent;
      background: rgba(255, 255, 255, 0.8);
    }

    .chat-item.active {
      background: linear-gradient(135deg, #dbeafe, #eff6ff);
      border-color: rgba(59, 130, 246, 0.7);
      box-shadow: 0 4px 8px rgba(37, 99, 235, 0.25);
    }

    .chat-item-title {
      font-size: 12px;
      font-weight: 600;
      color: #0f172a;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 4px;
    }

    .chat-item-badge {
      font-size: 9px;
      padding: 1px 5px;
      border-radius: 999px;
      background: #1d4ed8;
      color: #e5f2ff;
      flex-shrink: 0;
    }

    .chat-item-snippet {
      font-size: 10px;
      color: var(--text-sub);
      overflow: hidden;
      text-overflow: ellipsis;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
    }

    .chat-item-meta {
      font-size: 9px;
      color: #94a3b8;
      margin-top: 1px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 4px;
    }

    /* ì˜¤ë¥¸ìª½ ì±„íŒ… ì˜ì—­ ë˜í¼ */
    .chat-pane {
      flex: 1;
      display: flex;
      flex-direction: column;
      min-width: 0;
    }

    .status-bar {
      padding: 6px 12px 8px;
      border-bottom: 1px solid var(--border-light);
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #f8fbff;
      gap: 8px;
      flex-shrink: 0;
    }

    .status-pill {
      font-size: 11px;
      padding: 4px 10px;
      border-radius: 999px;
      background: #e0edff;
      color: #1d4ed8;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      white-space: nowrap;
    }

    .status-dot {
      width: 7px;
      height: 7px;
      border-radius: 50%;
      background: #22c55e;
      box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.2);
    }

    .status-text {
      font-size: 11px;
      color: var(--text-sub);
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    /* ì±„íŒ… ìŠ¤í¬ë¡¤ ì˜ì—­ */
    .chat-area {
      flex: 1;
      padding: 12px 14px 10px;
      overflow-y: auto;
      background: linear-gradient(180deg, #f5f9ff, #ffffff);
      scroll-behavior: smooth;
    }

    .date-separator {
      text-align: center;
      margin: 8px 0 10px;
    }

    .date-pill {
      display: inline-block;
      padding: 3px 10px;
      border-radius: 999px;
      background: rgba(148, 163, 184, 0.16);
      font-size: 11px;
      color: var(--text-sub);
    }

    .message {
      display: flex;
      align-items: flex-start;
      gap: 8px;
    }

    .bot-avatar {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      flex-shrink: 0;
      margin-top: 2px;
    }


    .message-bot {
      justify-content: flex-start;
    }

    .message-user {
      justify-content: flex-end;
    }

    .message-bubble {
      max-width: 82%;
      border-radius: 16px;
      padding: 8px 10px;
      font-size: 13px;
      line-height: 1.4;
      box-shadow: 0 4px 10px rgba(15, 23, 42, 0.05);
    }

    .message-bot .message-bubble {
      border-bottom-left-radius: 4px;
      background: var(--bubble-bot);
      border: 1px solid rgba(148, 163, 184, 0.25);
    }

    .message-user .message-bubble {
      border-bottom-right-radius: 4px;
      background: var(--bubble-user);
      border: 1px solid rgba(59, 130, 246, 0.3);
    }

    .message-meta {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-bottom: 3px;
      font-size: 11px;
      color: var(--text-sub);
    }

    .message-role {
      font-weight: 600;
    }

    .message-time {
      font-size: 10px;
      opacity: 0.85;
    }

    /* ì…ë ¥ ì˜ì—­ */
    .input-section {
      padding: 10px 12px 12px;
      border-top: 1px solid var(--border-light);
      background: #ffffffee;
      backdrop-filter: blur(14px);
      flex-shrink: 0;
    }

    .input-helper {
      font-size: 11px;
      color: var(--text-sub);
      margin-bottom: 6px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .input-helper span.icon {
      font-size: 13px;
    }

    .input-bar {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .stt-toggle {
      border: none;
      padding: 6px 8px;
      border-radius: 999px;
      background: #e0edff;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
      color: #1d4ed8;
      cursor: pointer;
      flex-shrink: 0;
      transition: background 0.18s ease, box-shadow 0.18s ease, transform 0.08s ease;
    }

    .stt-toggle:active {
      transform: scale(0.97);
    }

    .stt-toggle-dot {
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: #9ca3af;
      position: relative;
      overflow: hidden;
    }

    .stt-toggle-dot::after {
      content: "";
      position: absolute;
      inset: 2px;
      border-radius: inherit;
      background: #ffffff;
    }

    .stt-toggle.on {
      background: var(--accent-blue);
      color: #ffffff;
      box-shadow: 0 0 0 1px rgba(37, 99, 235, 0.5),
                  0 6px 16px rgba(37, 99, 235, 0.4);
    }

    .stt-toggle.on .stt-toggle-dot {
      background: #22c55e;
    }

    .input-field-wrap {
      flex: 1;
      display: flex;
      align-items: center;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      background: #f9fbff;
      padding: 2px 3px 2px 10px;
    }

    .chat-input {
      border: none;
      background: transparent;
      flex: 1;
      font-size: 13px;
      padding: 6px 4px;
      outline: none;
    }

    .chat-input::placeholder {
      color: #9ca3af;
    }

    .send-btn {
      border: none;
      border-radius: 999px;
      padding: 7px 10px;
      font-size: 12px;
      font-weight: 600;
      background: var(--accent-blue);
      color: #ffffff;
      display: inline-flex;
      align-items: center;
      gap: 4px;
      cursor: pointer;
      flex-shrink: 0;
      transition: background 0.15s ease, transform 0.08s ease, box-shadow 0.15s ease;
      box-shadow: 0 4px 14px rgba(37, 99, 235, 0.5);
    }

    .send-btn span.icon {
      font-size: 13px;
    }

    .send-btn:active {
      transform: translateY(1px);
      box-shadow: 0 2px 8px rgba(37, 99, 235, 0.45);
    }

    /* í† ìŠ¤íŠ¸ */
    .toast {
      position: absolute;
      inset-inline: 0;
      bottom: 80px;
      display: flex;
      justify-content: center;
      pointer-events: none;
    }

    .toast-inner {
      background: rgba(15, 23, 42, 0.85);
      color: #e5f2ff;
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 11px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      box-shadow: 0 10px 25px rgba(15, 23, 42, 0.55);
      opacity: 0;
      transform: translateY(6px);
      transition: opacity 0.22s ease, transform 0.22s ease;
    }

    .toast-inner.show {
      opacity: 1;
      transform: translateY(0);
    }

    /* ì‚¬ì´ë“œë°” ìˆ¨ê¹€ ìƒíƒœ (ëª¨ë°”ì¼/PC ê³µí†µ) */
    .app-shell.sidebar-hidden .sidebar {
      transform: translateX(-100%); /* ìŠ¬ë¼ì´ë“œ ì• ë‹ˆë©”ì´ì…˜ ìœ ì§€í•˜ê³  ì‹¶ìœ¼ë©´ ë‚¨ê²¨ë‘¬ë„ ë¨ */
      box-shadow: none;
      opacity: 0;
      pointer-events: none;
      
      /* ì—¬ê¸°ë¶€í„° ì¶”ê°€ */
      width: 0;
      min-width: 0;
      max-width: 0;
      border-right: none;
    }


    .app-shell.sidebar-hidden .chat-pane {
      flex: 1;
    }

    /* ëª¨ë°”ì¼ì¼ ë•ŒëŠ” ì˜¤ë²„ë ˆì´ ëŠë‚Œ */
    .sidebar-backdrop {
      display: none;
    }

    @media (max-width: 520px) {
      .app-shell {
        border-radius: 0;
        max-height: none;
        height: 100vh;
        box-shadow: none;
      }

      .sidebar {
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        box-shadow: 4px 0 22px rgba(15, 23, 42, 0.45);
      }

      .app-shell.sidebar-hidden .sidebar {
        box-shadow: none;
      }

      .sidebar-backdrop {
        display: block;
        position: absolute;
        inset: 0;
        background: rgba(15, 23, 42, 0.35);
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.22s ease;
        z-index: 15;
      }

      .app-shell:not(.sidebar-hidden) .sidebar-backdrop {
        opacity: 1;
        pointer-events: auto;
      }
    }
  </style>
</head>
<body>
  <div class="app-shell" id="appShell">
    <header class="app-header">
      <button class="header-menu-btn" id="chatListToggle" aria-label="ì±„íŒ… ëª©ë¡ ì—´ê¸°/ë‹«ê¸°">
        <span>â˜°</span>
      </button>
      <div class="app-header-icon">ğŸ“</div>
      <div class="app-header-title">
        <div class="app-header-title-main">AI ì‹¤ì‹œê°„ ë¯¼ì› ìƒë‹´</div>
        <div class="app-header-title-sub">120 ë‹¤ì‚°ì½œì„¼í„° Â· ë¯¼ì› ìë™ ì²˜ë¦¬ ë„ìš°ë¯¸ </div>
      </div>
    </header>

    <div class="app-main">
      <!-- ëª¨ë°”ì¼ì—ì„œ ì‚¬ì´ë“œë°” ë’·ë°°ê²½ -->
      <div class="sidebar-backdrop" id="sidebarBackdrop"></div>

      <!-- ì™¼ìª½: ë‚´ê°€ ë¬¸ì˜í•œ Chats ëª©ë¡ -->
      <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
          <div class="sidebar-title">
            <span class="icon">ğŸ’¬</span>
            <span>ë‚˜ì˜ ë¯¼ì› ê¸°ë¡</span>
          </div>
          <button class="sidebar-new" id="newChatBtn">
            <span>ìƒˆ ì±„íŒ…</span>
          </button>
        </div>
        <div class="sidebar-list" id="chatList">
          <div class="chat-item active">
            <div class="chat-item-title">
              <span>ê°€ë¡œë“± ì‹ ê³ </span>
              <span class="chat-item-badge">ì§„í–‰ì¤‘</span>
            </div>
            <div class="chat-item-snippet">
              ê°•ë‚¨ì—­ 3ë²ˆ ì¶œêµ¬ ì• ë²„ìŠ¤ì •ë¥˜ì¥ ê°€ë¡œë“±ì´ êº¼ì ¸ ìˆìŠµë‹ˆë‹¤.
            </div>
            <div class="chat-item-meta">
              <span>ì˜¤ëŠ˜ Â· 3:13</span>
              <span>ë„ë¡œÂ·ì•ˆì „</span>
            </div>
          </div>

          <div class="chat-item">
            <div class="chat-item-title">
              <span>ë²„ìŠ¤ ì •ë¥˜ì¥ í˜¼ì¡</span>
            </div>
            <div class="chat-item-snippet">
              ì¶œí‡´ê·¼ ì‹œê°„ì— â—‹â—‹ì—­ 2ë²ˆ ì¶œêµ¬ ì• ë²„ìŠ¤ ì •ë¥˜ì¥ ëŒ€ê¸°ì¤„ì´ ë„ˆë¬´ ê¸¸ì–´ ì¸ë„ê°€ ë§‰í™ë‹ˆë‹¤.
            </div>
            <div class="chat-item-meta">
              <span>ì–´ì œ</span>
              <span>ëŒ€ì¤‘êµí†µ</span>
            </div>
          </div>

          <div class="chat-item">
            <div class="chat-item-title">
              <span>ìƒí™œ í•˜ìˆ˜ë„ ì•…ì·¨</span>
            </div>
            <div class="chat-item-snippet">
              ì§‘ ì• ë§¨í™€ì—ì„œ ì‹¬í•œ ì•…ì·¨ê°€ ì˜¬ë¼ì™€ ì°½ë¬¸ì„ ëª» ì—´ê² ìŠµë‹ˆë‹¤.
            </div>
            <div class="chat-item-meta">
              <span>3ì¼ ì „</span>
              <span>í•˜ìˆ˜ë„</span>
            </div>
          </div>

          <div class="chat-item">
            <div class="chat-item-title">
              <span>ì†ŒìŒ ë¯¼ì›(ê³µì‚¬)</span>
            </div>
            <div class="chat-item-snippet">
              ì‹¬ì•¼ ì‹œê°„ì— ê³µì‚¬ ì†ŒìŒì´ ê³„ì† ë‚˜ì„œ ìˆ˜ë©´ì— ë°©í•´ê°€ ë©ë‹ˆë‹¤.
            </div>
            <div class="chat-item-meta">
              <span>5ì¼ ì „</span>
              <span>ì†ŒìŒ</span>
            </div>
          </div>
        </div>
      </aside>

      <!-- ì˜¤ë¥¸ìª½: ì‹¤ì œ ì±„íŒ… í™”ë©´ -->
      <div class="chat-pane">
        <div class="status-bar">
          <div class="status-pill">
            <span class="status-dot"></span>
            <span>ìƒë‹´ ê°€ëŠ¥</span>
          </div>
          <div class="status-text">ìŒì„±Â·í…ìŠ¤íŠ¸ë¡œ ì–¸ì œë“  ë¯¼ì›ì„ ì•Œë ¤ì£¼ì„¸ìš”.</div>
        </div>

        <main class="chat-area" id="chatArea">
          <div class="date-separator">
            <span class="date-pill">ì˜¤ëŠ˜</span>
          </div>

          <div class="message message-bot">
            <img src="./bot.png" class="bot-avatar" alt="AI">
            <div class="message-bubble">
              <div class="message-meta">
                <span class="message-role">AI ìƒë‹´ë´‡</span>
                <span class="message-time">ì˜¤í›„ 3:12</span>
              </div>
              <div>
                ì•ˆë…•í•˜ì„¸ìš” ğŸ‘‹<br />
                ì„œìš¸ì‹œ 120 ë‹¤ì‚°ì½œì„¼í„° AIì…ë‹ˆë‹¤.<br /><br />
                <b>ë„ë¡œ, ëŒ€ì¤‘êµí†µ, ì“°ë ˆê¸°, ì†ŒìŒ, ì•ˆì „ ì‹ ê³ </b> ë“±<br />
                ê¶ê¸ˆí•˜ì‹  ë¯¼ì›ì„ ìŒì„± ë˜ëŠ” í…ìŠ¤íŠ¸ë¡œ ë³´ë‚´ì£¼ì„¸ìš”.
              </div>
            </div>
          </div>

          <div class="message message-user">
            <div class="message-bubble">
              <div class="message-meta">
                <span class="message-role">ë‚˜</span>
                <span class="message-time">ì˜¤í›„ 3:15</span>
              </div>
              <div>
                ë²„ìŠ¤ ì •ë¥˜ì¥ ê°€ë¡œë“±ì´ êº¼ì ¸ ìˆëŠ”ë° ì‹ ê³ í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í•˜ë‚˜ìš”?
              </div>
            </div>
          </div>

          <div class="message message-bot">
            <img src="./bot.png" class="bot-avatar" alt="AI">
            <div class="message-bubble">
              <div class="message-meta">
                <span class="message-role">AI ìƒë‹´ë´‡</span>
                <span class="message-time">ì˜¤í›„ 3:15</span>
              </div>
              <div>
                ìœ„ì¹˜ì™€ ìƒí™©ì„ ì•Œë ¤ì£¼ì‹œë©´<br />
                <b>ê°€ë¡œë“± ë‹´ë‹¹ ë¶€ì„œë¡œ ë¯¼ì›ì„ ìë™ ì ‘ìˆ˜</b>í•´ ë“œë¦´ê²Œìš”.<br />
                <br />
                ì˜ˆì‹œ)<br />
                â€œê°•ë‚¨ì—­ 3ë²ˆ ì¶œêµ¬ ì• ë²„ìŠ¤ì •ë¥˜ì¥ ê°€ë¡œë“±ì´ êº¼ì ¸ ìˆìŠµë‹ˆë‹¤.â€
              </div>
            </div>
          </div>
        </main>

        <section class="input-section">
          <div class="input-helper">
            <span class="icon">ğŸ’¡</span>
            ë§ˆì´í¬ ëª¨ë“œë¥¼ ì¼œë©´ ìŒì„±ìœ¼ë¡œ ì§ˆë¬¸ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
          </div>
          <form class="input-bar" id="chatForm">
            <button type="button" class="stt-toggle" id="sttToggle" aria-pressed="false">
              <div class="stt-toggle-dot"></div>
              <span class="stt-label">ë§ˆì´í¬ ëª¨ë“œ</span>
            </button>

            <div class="input-field-wrap">
              <input
                id="chatInput"
                class="chat-input"
                type="text"
                autocomplete="off"
                placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”."
              />
              <button type="submit" class="send-btn">
                <span>ì „ì†¡</span>
                <span class="icon">â¤</span>
              </button>
            </div>
          </form>
        </section>
      </div>
    </div>

    <div class="toast" aria-live="polite" aria-atomic="true">
      <div class="toast-inner" id="toastInner">
        <span>ğŸ™ï¸</span>
        <span id="toastText">ë§ˆì´í¬ ëª¨ë“œê°€ ì¼œì¡Œì–´ìš”.</span>
      </div>
    </div>
  </div>

  <script>
    const appShell = document.getElementById("appShell");
    const chatArea = document.getElementById("chatArea");
    const chatForm = document.getElementById("chatForm");
    const chatInput = document.getElementById("chatInput");
    const sttToggle = document.getElementById("sttToggle");
    const sttLabel = sttToggle.querySelector(".stt-label");
    const toastInner = document.getElementById("toastInner");
    const toastText = document.getElementById("toastText");
    const chatList = document.getElementById("chatList");
    const newChatBtn = document.getElementById("newChatBtn");
    const chatListToggle = document.getElementById("chatListToggle");
    const sidebarBackdrop = document.getElementById("sidebarBackdrop");

    // STT í† ê¸€ UX
    sttToggle.addEventListener("click", () => {
      const isOn = sttToggle.classList.toggle("on");
      sttToggle.setAttribute("aria-pressed", String(isOn));
      sttLabel.textContent = isOn ? "ë§ˆì´í¬ ëª¨ë“œ" : "ë§ˆì´í¬ ëª¨ë“œ";

      toastText.textContent = isOn
        ? "ë§ˆì´í¬ ëª¨ë“œê°€ ì¼œì¡Œì–´ìš”. ë§ˆì´í¬ë¡œ ë§ì”€í•´ ë³´ì„¸ìš”."
        : "ë§ˆì´í¬ ëª¨ë“œê°€ êº¼ì¡Œì–´ìš”. í…ìŠ¤íŠ¸ë¡œ ì…ë ¥í•´ ì£¼ì„¸ìš”.";
      showToast();
    });

    function showToast() {
      toastInner.classList.add("show");
      clearTimeout(showToast._timer);
      showToast._timer = setTimeout(() => {
        toastInner.classList.remove("show");
      }, 5000);
    }

    // ì±„íŒ… ì „ì†¡ UX (ë°ëª¨)
    chatForm.addEventListener("submit", (e) => {
      e.preventDefault();
      const text = chatInput.value.trim();
      if (!text) return;
      addUserMessage(text);
      chatInput.value = "";
      setTimeout(() => {
        addBotMessage("ì ‘ìˆ˜í•˜ì‹  ë‚´ìš©ì€ ì¶”ê°€ í™•ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤. ğŸ˜Š ìƒë‹´ì‚¬ì™€ ì—°ê²°í•´ë“œë¦´ê¹Œìš”?");
      }, 500);
    });

    function addUserMessage(text) {
      const msgEl = document.createElement("div");
      msgEl.className = "message message-user";
      msgEl.innerHTML = `
        <div class="message-bubble">
          <div class="message-meta">
            <span class="message-role">ë‚˜</span>
            <span class="message-time">${getTimeString()}</span>
          </div>
          <div>${escapeHtml(text)}</div>
        </div>
      `;
      chatArea.appendChild(msgEl);
      chatArea.scrollTop = chatArea.scrollHeight;
    }

    function addBotMessage(text) {
      const msgEl = document.createElement("div");
      msgEl.className = "message message-bot";
      msgEl.innerHTML = `
        <img src="bot.png" class="bot-avatar" alt="AI">
        <div class="message-bubble">
          <div class="message-meta">
            <span class="message-role">AI ìƒë‹´ë´‡</span>
            <span class="message-time">${getTimeString()}</span>
          </div>
        <div>${escapeHtml(text)}</div>
      </div>
    `;
  chatArea.appendChild(msgEl);
  chatArea.scrollTop = chatArea.scrollHeight;
  }


    function getTimeString() {
      const d = new Date();
      let h = d.getHours();
      const m = d.getMinutes().toString().padStart(2, "0");
      const isPM = h >= 12;
      if (h === 0) h = 12;
      else if (h > 12) h -= 12;
      return `${isPM ? "ì˜¤í›„" : "ì˜¤ì „"} ${h}:${m}`;
    }

    function escapeHtml(str) {
      return str
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;");
    }

    // ì‚¬ì´ë“œë°” ë³´ì˜€ë‹¤/ì•ˆ ë³´ì˜€ë‹¤ í† ê¸€ (ë²„íŠ¼)
    function toggleSidebar(force) {
      const isHidden = appShell.classList.contains("sidebar-hidden");
      const nextHidden = typeof force === "boolean" ? force : !isHidden;
      if (nextHidden) {
        appShell.classList.add("sidebar-hidden");
      } else {
        appShell.classList.remove("sidebar-hidden");
      }
    }

    chatListToggle.addEventListener("click", () => {
      toggleSidebar();
    });

    sidebarBackdrop.addEventListener("click", () => {
      toggleSidebar(true);
    });

    // ìƒˆ ì±„íŒ… ë²„íŠ¼ UX (ë°ëª¨)
    newChatBtn.addEventListener("click", () => {
      const item = document.createElement("div");
      item.className = "chat-item active";
      Array.from(chatList.querySelectorAll(".chat-item")).forEach((el) =>
        el.classList.remove("active")
      );
      item.innerHTML = `
        <div class="chat-item-title">
          <span>ìƒˆ ë¯¼ì› ìƒë‹´</span>
          <span class="chat-item-badge">ìƒˆë¡œ ìƒì„±</span>
        </div>
        <div class="chat-item-snippet">
          ì•„ì§ ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤. ì²« ë¯¼ì›ì„ ì…ë ¥í•´ ë³´ì„¸ìš”.
        </div>
        <div class="chat-item-meta">
          <span>ì§€ê¸ˆ</span>
          <span>ë¯¸ë¶„ë¥˜</span>
        </div>
      `;
      chatList.prepend(item);
      attachChatItemClick(item);

      chatArea.innerHTML = `
        <div class="date-separator">
          <span class="date-pill">ì˜¤ëŠ˜</span>
        </div>
        <div class="message message-bot">
          <img src="./bot.png" class="bot-avatar" alt="AI">
          <div class="message-bubble">
            <div class="message-meta">
              <span class="message-role">AI ìƒë‹´ë´‡</span>
              <span class="message-time">${getTimeString()}</span>
            </div>
            <div>
              ìƒˆ ë¯¼ì› ìƒë‹´ì„ ì‹œì‘í•©ë‹ˆë‹¤.<br />
              ìœ„ì¹˜, ìƒí™©, ë¶ˆí¸ ì‚¬í•­ì„ êµ¬ì²´ì ìœ¼ë¡œ ì•Œë ¤ì£¼ì‹œë©´<br />
              ìš”ì•½Â·ë¶„ë¥˜ í›„ ë‹´ë‹¹ ë¶€ì„œë¡œ ì—°ê²°í•´ ë“œë¦´ê²Œìš”.
            </div>
          </div>
        </div>
      `;

      // ìƒˆ ì±„íŒ… ëˆŒë €ìœ¼ë©´ ì‚¬ì´ë“œë°” ë‹«ê¸°
      toggleSidebar(true);
    });

    // ê¸°ì¡´ ë¦¬ìŠ¤íŠ¸ì— í´ë¦­ ì´ë²¤íŠ¸ ì—°ê²°
    Array.from(chatList.querySelectorAll(".chat-item")).forEach(attachChatItemClick);

    function attachChatItemClick(el) {
      el.addEventListener("click", () => {
        Array.from(chatList.querySelectorAll(".chat-item")).forEach((x) =>
          x.classList.remove("active")
        );
        el.classList.add("active");

        // ì•„ë¬´ ì±„íŒ… ì•„ì´í…œ ëˆŒëŸ¬ë„ ì‚¬ì´ë“œë°” ë‹«í˜ (ëª¨ë°”ì¼/PC ê³µí†µ)
        // toggleSidebar(true);
      });
    }

    // ì²˜ìŒ ë¡œë”© ì‹œ: ëª¨ë°”ì¼ ëŠë‚Œ ìœ„í•´ ê¸°ë³¸ê°’ì€ ì‚¬ì´ë“œë°” ë‹«íŒ ìƒíƒœë¡œ
    if (window.innerWidth <= 520) {
      appShell.classList.add("sidebar-hidden");
    }
  </script>
</body>
</html>
